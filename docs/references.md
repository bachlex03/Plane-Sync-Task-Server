# Links to reference

- `https://developers.plane.so/`

# Solution

_Question_: I want to build a server using nodejs that sync issues from markdown file to our Plane self hosting is it possible?

Yes, it's possible to build a Node.js server that syncs issues from a Markdown file to a self-hosted Plane instance. Plane provides a REST API with endpoints for managing issues (which represent issues), including creating, fetching, updating, and deleting them. This makes integration straightforward, especially since the API is available on self-hosted setups (using your custom base URL instead of the cloud one).

### High-Level Approach

To implement this, your Node.js server could:

1. **Read and Parse the Markdown File**: Use Node's `fs` module to read the file, then a library like `remark` (with plugins like `remark-parse` and `remark-issue-list`) to parse the Markdown and extract issue-like items (e.g., checkboxes or TODO lists).
2. **Authenticate with Plane API**: Generate an API key from your Plane instance's settings and include it in requests via the `X-API-Key` header.
3. **Sync Issues to Plane**:
   - Fetch existing issues using `GET /api/v1/workspaces/:workspace-slug/projects/:project_id/issues/` (supports pagination for large projects).
   - For new issues, create issues via `POST /api/v1/workspaces/:workspace-slug/projects/:project_id/issues/` with JSON payloads containing details like name, description, assignees, and state.
   - For updates, use `PATCH /api/v1/workspaces/:workspace-slug/projects/:project_id/issues/:issue_id/` to modify existing issues.
   - Handle deletions with `DELETE /api/v1/workspaces/:workspace-slug/projects/:project_id/issues/:issue_id/` if issues are removed from the Markdown.
4. **Automation**: Run the sync periodically (e.g., via cron or file watchers) or on-demand. Use libraries like `axios` or `node-fetch` for API calls, and handle rate limits (60 requests/minute) to avoid errors.

# API docs

## POST API

**link to references**: `https://developers.plane.so/api-reference/issue/overview#issue-object`

- issue object

```json
{
  "id": "e1c25c66-5bb8-465e-a818-92a483423443",
  "created_at": "2023-11-19T11:56:55.176802Z",
  "updated_at": "2023-11-19T11:56:55.176809Z",
  "estimate_point": null,
  "name": "First Issue",
  "description_html": "<p></p>",
  "description_stripped": "",
  "priority": "none",
  "start_date": "2023-09-01",
  "target_date": "2023-10-04",
  "sequence_id": 421,
  "sort_order": 265535.0,
  "completed_at": null,
  "archived_at": null,
  "is_draft": false,
  "created_by": "16c61a3a-512a-48ac-b0be-b6b46fe6f430",
  "updated_by": "16c61a3a-512a-48ac-b0be-b6b46fe6f430",
  "project": "4af68566-94a4-4eb3-94aa-50dc9427067b",
  "workspace": "cd4ab5a2-1a5f-4516-a6c6-8da1a9fa5be4",
  "parent": null,
  "state": "f3f045db-7e74-49f2-b3b2-0b7dee4635ae",
  "assignees": ["797b5aea-3f40-4199-be84-5f94e0d04501"],
  "labels": []
}
```

## API Field Documentation

### Required Fields

- **name** (string, required) - Name of the issue

### Timestamps

- **created_at** (timestamp) - Timestamp of the issue when it was created
- **updated_at** (timestamp) - Timestamp when the issue was last updated
- **completed_at** (timestamp or null) - Timestamp when the issue is moved to any completed group state

### Estimation & Priority

- **estimate_point** (integer or null) - Total estimate points for the issue, takes value between (0,7)
- **priority** (string) - Priority of the issue, takes one of 5 values:
  - `none`
  - `urgent`
  - `high`
  - `medium`
  - `low`

### Description

- **description_html** (string) - HTML description of the issue
- **description_stripped** (string) - Stripped version of the HTML description, auto-generated by the application

### Dates

- **start_date** (date) - Start date of the issue
- **target_date** (date) - Target date of the issue

### System Generated Fields

- **sequence_id** (integer) - Auto-generated unique identifier of the issue from the system
- **sort_order** (decimal) - Auto-generated from the system during creation, used for ordering
- **created_by** (uuid) - Auto-saved ID of the user that created the issue
- **updated_by** (uuid) - Auto-saved ID of the user that last updated the issue
- **project** (uuid) - The project which the issue is part of, auto-generated from backend
- **workspace** (uuid) - The workspace which the issue is part of, auto-generated from backend

### Relationships

- **parent** (uuid) - The UUID of the parent issue which should be part of the same workspace
- **state** (uuid) - The UUID of the state which is present in the project where the issue is being created
- **assignees** (array of uuids) - Array of UUIDs of users who are part of the project where the issue is being created or updated
- **labels** (array of uuids) - Array of UUIDs of labels which are present in the project where the issue is being created or updated
